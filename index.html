<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Tables de multiplication</title>
	<!-- Compiled and minified CSS -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.0/css/materialize.min.css">
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<link rel="stylesheet" href="css/app.css" />
	<link href='http://fonts.googleapis.com/css?family=Lato:400,700' rel='stylesheet' type='text/css'>

</head>
<body>

<!-- VUE PRINCIPALE -->
<div id="app" class="container">
	<nav>
		<div class="nav-wrapper">
			<router-link to="/" class="brand-logo">
				Tables de multiplication
			</router-link>
			<ul class="right hide-on-med-and-down">
				<li>
					<router-link to="/" class="waves-effect waves-light btn">
						Accueil <i class="material-icons left">home</i>
					</router-link>
				</li>
				<li>
					<router-link to="/apprentissage" class="waves-effect waves-light btn">
						Apprentissage <i class="material-icons left">mode_edit</i>
					</router-link>
				</li>
				<li>
					<router-link to="/evaluation" class="waves-effect waves-light btn">
						Evaluation <i class="material-icons left">grade</i>
					</router-link>
				</li>
			</ul>
		</div>
	</nav>
	<div class="container">
		<router-view></router-view>
	</div>
	<footer class="page-footer">
		<div class="footer-copyright">
			<div class="container">
				© 2017 DNR2I
				<router-link to="/" class="grey-text text-lighten-4 right">Retour à l'accueil</router-link>
			</div>
		</div>
	</footer>
</div>
<script id="home" type="text/x-template">
	<article>
		<h1 class="header">Page d'accueil</h1>
		<div class="row">
			<div class="col s6 m6">
				<div class="card">
					<div class="card-image">
						<img src="images/book.png">
					</div>
					<div class="card-content">
						<p>Test tes connaissances avec le mode évaluation !</p>
					</div>
					<div class="card-action">
						<router-link :to="{ name: 'learning' }">Commencez l'entraînement</router-link>
					</div>
				</div>
			</div>
			<div class="col s6 m6">
				<div class="card">
					<div class="card-image">
						<img src="images/star.png">
					</div>
					<div class="card-content">
						<p>Révise tes tables de multiplication avec le mode apprentissage !</p>
					</div>
					<div class="card-action">
						<router-link :to="{ name: 'evaluation' }">Commencez l'évaluation</router-link>
					</div>
				</div>
			</div>
		</div>
	</article>
</script>
<script id="learning" type="text/x-template">
	<section>
		<article>
			<h1>Page d'apprentissage</h1>
			<div class="row">
				<h2>Choisis ta table de multiplication</h2>
				<table class="table table-inverse" id="exercise">
					<tbody>
					<tr>
						<td v-for="n in 9"><button v-on:click="play(n)" class="btn btn-info">{{ n }}</button>
						</td>
					</tr>
					</tbody>
				</table>
			</div>
		</article>
	
		<template v-if="round != 0">
			<article>
			<p>Round: {{round}}/10</p>
				<h2>Table de {{ table }}:</h2>
				<h3>{{ table }} x {{ operations[round-1].multiplier }} = ...</h3>
				<p>Choisi la bonne réponse:</p>
				<span v-for="choice in operations[round-1].choices">
					<!-- isn't updated for no understable reason... -->
					<button v-if="userChoices.indexOf(choice) >= 0" class="btn red">{{ choice }}</button>
					<button v-else class="btn" v-on:click="playRound(round, choice)">{{ choice }}</button>
				</span>
			</article>
		</template>
	</section>
</script>
<script id="evaluation" type="text/x-template">
	<section>
		<article>
			<h1>Page d'évaluation</h1>
			<div v-if="index < operations.length">
				<h3>{{ currentOperation.multiplier1 }} x {{ currentOperation.multiplier2 }} = ...</h3>
				<p>Choisi la bonne réponse:</p>
				<p v-for="choice in currentOperation.choices">
					<button v-if="operations[index].userChoices.indexOf(choice) >= 0" class="btn red">{{ choice }}</button>
					<button v-else class="btn" v-on:click="checkResult(choice,currentOperation)">{{ choice }}</button>
				</p>
			</div>
			<div v-else>
				<table class="bordered highlight">
					<thead>
					<tr>
						<th data-field="operation">Opération</th>
						<th data-field="result">Résultat</th>
						<th data-field="correct"></th>
						<th deta-field="answers">Réponses données</th>
						<th deta-field="errors">Nombre d'erreurs</th>
						<th data-field="timer">Temps</th>
					</tr>
					</thead>
					<tbody>
					<tr v-for="operation in operations">
						<td>{{ operation.multiplier1 }} x {{ operation.multiplier2 }}</td>
						<td>{{ operation.result }}</td>
						<td>
							<span v-if="operation.errors == 0">Correct</span>
							<span v-else>Incorrect</span>
						</td>
						<td><span v-for="userChoice in operation.userChoices">{{ userChoice }} </span></td>
						<td>{{ operation.errors }}</td>
						<td>{{ operation.time }}</td>
					</tr>
					</tbody>
				</table>
			</div>
		</article>
		</template>
	</section>
</script>

<script src="https://unpkg.com/vue/dist/vue.js"></script>
<script src="js/lib/jquery/dist/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.0/js/materialize.min.js"></script>
<script src="js/lib/vue-router/dist/vue-router.js"></script>
<script src="https://cdn.jsdelivr.net/vue.resource/1.0.3/vue-resource.min.js"></script>

<script src="js/store.js"></script>
<script src="js/home.js"></script>
<script src="js/evaluate.js"></script>
<script src="js/train.js"></script>
<script src="js/router.js"></script>
</body>
</html>
